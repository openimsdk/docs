---
title: Browser
hide_title: true
sidebar_position: 5
---


## ğŸš€ä½¿ç”¨ Demo
æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨é¦–å…ˆè¿è¡Œæˆ‘ä»¬ä¸ºæ‚¨å‡†å¤‡çš„æ¡†æ¶ç›¸å…³çš„ç¤ºä¾‹ [DEMO](https://github.com/openimsdk/openim-electron-demo) ã€‚è¿™ä¸ä»…å¯ä»¥è®©æ‚¨ç›´è§‚ä½“éªŒ OpenIMSDK çš„åŠŸèƒ½ï¼Œè¿˜å°†å¸®åŠ©æ‚¨åœ¨å®é™…é›†æˆè¿‡ç¨‹ä¸­è¿…é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚




## é›†æˆæ­¥éª¤(Webpack5+)

### 1. æ·»åŠ ä¾èµ–

```bash
npm install open-im-sdk-wasm
```

### 2. è·å– wasm æ‰€éœ€é™æ€èµ„æº

> åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„`node_modules`ç›®å½•ä¸‹æ‰¾åˆ°`open-im-sdk-wasm`å­ç›®å½•ï¼Œå°†å…¶ä¸­`assets`æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°é¡¹ç›®å…¬å…±èµ„æºç›®å½•ä¸­ï¼ˆpublicï¼‰ã€‚

- æ–‡ä»¶æ¸…å•

```bash
openIM.wasm
sql-wasm.wasm
wasm_exec.js
```

- æ‹·è´å®Œæˆååœ¨æ‚¨çš„`index.html`æ–‡ä»¶ä¸­é€šè¿‡ script æ ‡ç­¾å¼•å…¥`wasm_exec.js`æ–‡ä»¶

### 3. å¼•å…¥ SDK

- å¼•å…¥ SDK

```ts
import { getSDK } from 'open-im-sdk-wasm';

const OpenIM = getSDK();
```

- å¯èƒ½é‡åˆ°çš„é—®é¢˜
  ![webpack5_error](./assets/webpack5_error.png)

- è§£å†³æ–¹æ¡ˆ
  > åœ¨ webpack é…ç½®ä¸­æ–°å¢é…ç½®å¦‚ä¸‹

```bash
resolve: {
      fallback: {
        path: false,
        crypto: false,
      },
    },
```

## é›†æˆæ­¥éª¤(Viteã€Webpack4)

> ç¬¬ä¸€ã€äºŒæ­¥åŒä¸Š Webpack5+å¼•å…¥æ­¥éª¤ã€‚

### å¼•å…¥ SDK

#### å°† npm åŒ…ä¸­çš„ lib ç›®å½•æ‹·è´åˆ°é¡¹ç›®ä¸­ï¼Œå¦‚ï¼šsrc/utils/lib

#### å¦‚æœæ˜¯ Webpack4,è¿˜éœ€è¦å¼•å…¥ woker loader

- å®‰è£…`worker-loader`å’Œ`worker-plugin`

```bash
npm install worker-loader worker-plugin -D
```

- åœ¨ webpack ä¸­æ–°å¢é…ç½®

```js
const WorkerPlugin = require("worker-plugin");

...
plugins: [new WorkerPlugin()]
...
```

#### ä¿®æ”¹ lib/api/index.js æ–‡ä»¶ä¸­å¯¹ web worker çš„å¼•å…¥æ–¹å¼ã€‚

- Webpack4.x

```js
+ import IMWorker from 'worker-loader!./worker.js';

- worker = new Worker(new URL('./worker.js', import.meta.url));
+ worker = new IMWorker();
```

- Vite

```js
+ import IMWorker from './worker?worker';

- worker = new Worker(new URL('./worker.js', import.meta.url));
+ worker = new IMWorker();
```

#### å¼•å…¥

> è·¯å¾„ä¸ºæ‹·è´åæ”¾ç½®`lib`çš„è·¯å¾„

```ts
import { getSDK } from '@/utils/lib';

const OpenIM = getSDK();
```

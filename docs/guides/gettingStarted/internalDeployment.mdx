---
title: 'å†…ç½‘éƒ¨ç½²'
sidebar_position: 4
---
## ğŸ“Œ å†…ç½‘éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†æŒ‡å¯¼æ‚¨åœ¨ä¸€å°çº¯å†…ç½‘çš„æœºå™¨ä¸Šéƒ¨ç½²OpenIMç›¸å…³æœåŠ¡ã€‚

### **Dockeréƒ¨ç½²**

1. ä½¿ç”¨ä¸€å°è¿æ¥åˆ°äº’è”ç½‘çš„æœºå™¨ï¼Œå…‹éš†ä»“åº“ï¼š

   ```sh
   git clone https://github.com/openimsdk/openim-docker
   ```

2. è¿è¡Œ`docker compose up -d`ä»¥æ‹‰å–é•œåƒã€‚

3. ä¿å­˜ç›¸åº”çš„é•œåƒã€‚å‘½ä»¤å¦‚ä¸‹ï¼š

   ```sh
   docker save -o image-name.tar image-name:tag
   ```

   ä¾‹å¦‚ï¼Œéœ€è¦ä¿å­˜`openim-server`é•œåƒï¼Œå‘½ä»¤åº”ä¸ºï¼š

   ```sh
   docker save -o openim-server.tar openim/openim-server:release-v3.8.1
   ```

   ä¿å­˜`mongo`é•œåƒï¼Œå‘½ä»¤åº”ä¸ºï¼š

   ```sh
   docker save -o mongo.tar mongo:7.0
   ```

   å¯ä»¥ä½¿ç”¨`docker images`æŸ¥çœ‹æ‹‰å–çš„é•œåƒä¿¡æ¯ï¼Œæˆ–è€…åœ¨`.env`æ–‡ä»¶ä¸­ç¡®è®¤é•œåƒçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚

   æ‰€æœ‰éœ€è¦ä¿å­˜çš„é•œåƒä¸ºï¼š

   - `mongo:7.0`
   - `redis:7.0.0`
   - `bitnami/kafka:3.5.1`
   - `minio/minio:RELEASE.2024-01-11T07-46-16Z`
   - `quay.io/coreos/etcd:v3.5.13`
   - `openim/openim-web-front:release-v3.8.1`
   - `openim/openim-admin-front:release-v1.8.3`
   - `openim/openim-server:release-v3.8.2`
   - `openim/openim-chat:v1.8.2`

   ä»¥ä¸‹ä¸ºç›‘æ§å‘Šè­¦ç»„ä»¶é•œåƒï¼Œå¯æ ¹æ®éœ€æ±‚é€‰æ‹©æ€§éƒ¨ç½²ï¼š

   - `prom/prometheus:v2.51.2`
   - `prom/alertmanager:v0.27.0`
   - `grafana/grafana:11.0.1`
   - `prom/node-exporter:v1.7.0`

4. é€šè¿‡å†…ç½‘æˆ–è€…ç‰©ç†ä»‹è´¨å°†**é•œåƒæ–‡ä»¶**å’Œ**dockerä»“åº“æ–‡ä»¶**æ‹·è´åˆ°éƒ¨ç½²æœºå™¨ä¸Šã€‚

5. å¯¼å…¥é•œåƒåˆ°`docker`ä¸­ï¼Œå‘½ä»¤ä¸ºï¼š
   ```bash
   docker load -i image-name.tar
   ```

   ä¾‹å¦‚`openim-server`é•œåƒå¯¼å…¥å‘½ä»¤ä¸ºï¼š

   ```sh
   docker load -i openim-server.tar
   ```

6. åœ¨ä»“åº“ç›®å½•ä¸‹è¿è¡Œï¼š
   ```sh
   docker copose up -d
   ```

   éœ€è¦å¯åŠ¨ç›‘æ§ç»„ä»¶åˆ™è¿è¡Œï¼š
   ```sh
   docker compose --profile m up -d
   ```

### **æºç éƒ¨ç½²**

1. ä½¿ç”¨ä¸€å°è¿æ¥åˆ°äº’è”ç½‘çš„æœºå™¨ï¼Œå…‹éš†serverä»“åº“å»ºè®®åˆ‡æ¢åˆ° release-v3.8.2 åˆ†æ”¯ï¼š

   ```sh
   git clone https://github.com/openimsdk/open-im-server
   ```

2.  å…‹éš†`chat`ä»“åº“å»ºè®®åˆ‡æ¢åˆ° release-v1.8.3 åˆ†æ”¯
   ```bash
   git clone https://github.com/openimsdk/chat
   ```

3. å‚è€ƒ[dockeréƒ¨ç½²](#Dockeréƒ¨ç½²)æ­¥éª¤ï¼Œä¿å­˜é•œåƒï¼ŒåŒºåˆ«ä¸ºä¸éœ€è¦`openim/openim-server:release-v3.8.2`å’Œ`openim/openim-chat:v1.8.2`ã€‚

4. é€šè¿‡å†…ç½‘æˆ–è€…ç‰©ç†ä»‹è´¨å°†**é•œåƒæ–‡ä»¶**ã€**serverä»“åº“æ–‡ä»¶**ã€**chatä»“åº“æ–‡ä»¶**æ‹·è´åˆ°éƒ¨ç½²æœºå™¨ä¸Šã€‚

5. å¯¼å…¥é•œåƒåˆ°`docker`ä¸­ï¼Œå‘½ä»¤ä¸ºï¼š

   ```bash
   docker load -i image-name.tar
   ```

   ä¾‹å¦‚`mongo`é•œåƒå¯¼å…¥å‘½ä»¤ä¸ºï¼š

   ```sh
   docker load -i mongo.tar
   ```

6. åœ¨`server`ç›®å½•ä¸‹ä¾æ¬¡è¿è¡Œï¼š
   ```bash
   docker compose up -d  # å¦‚éœ€å¯ç”¨ç›‘æ§ç»„ä»¶åˆ™ä¸º docker compose --profile m up -d
   mage
   mage start
   ```

7. åœ¨`chat`ç›®å½•ä¸‹è¿è¡Œï¼š
   ```bash
   mage
   mage start
   ```

   


---

sidebar_position: 6
toc_min_heading_level: 2
toc_max_heading_level: 2

---

# createSoundMessageFromFullPath

## Feature Introduction

:::info Note

Create an audio message. The SDK internally extracts audio information based on the full path and creates an audio message.

:::

<Tabs
groupId="sdks-language"
values={[
{ label: 'iOS', value: 'iOS', },
{ label: 'Android', value: 'Android', },
{ label: 'Flutter', value: 'Flutter', },
{ label: 'uni-app', value: 'uni-app', },
{ label: 'Browser/MiniProgram', value: 'Web', },
{ label: 'React-Native', value: 'React-Native', },
]
}>

<TabItem value="Flutter">

### Function Prototype

```dart showLineNumbers
 Future<Message> createSoundMessageFromFullPath({
    required String soundPath,
    required int duration,
    String? operationID,
  })
```

### Input Parameters

| Parameter Name | Parameter Type | Mandatory | Description   |
| -------------- | -------------- | --------- | ------------- |
| soundPath      | String         | Yes       | Absolute path |
| duration       | int            | Yes       | Duration      |

### Return Result

| Name | Type                                               | Description     |
| ---- | -------------------------------------------------- | --------------- |
| ~    | [Message](/class/message/messageInfo.mdx) | Success return |

### Code Example

```dart showLineNumbers
    Message msg = await OpenIM.iMManager.messageManager.createSoundMessageFromFullPath(soundPath: soundPath, duration: duration);
    //todo
```

</TabItem>

<TabItem value="iOS">

### Function Prototype

```swift showLineNumbers

+ (OIMMessageInfo *)createSoundMessageFromFullPath:(NSString *)soundPath
                                          duration:(NSInteger)duration;
```

### Input Parameters

| Parameter Name | Parameter Type | Mandatory | Description   |
| -------------- | -------------- | --------- | ------------- |
| soundPath      | NSString       | Yes       | Absolute path |
| duration       | NSInteger      | Yes       | Duration      |

### Return Result

| Name    | Type                                                      | Description     |
| ------- | --------------------------------------------------------- | --------------- |
| message | [OIMMessageInfo](/class/message/messageInfo.mdx) | Success return |

### Code Example

```swift showLineNumbers

OIMMessageInfo *message = [OIMMessageInfo createSoundMessageFromFullPath:@"" duration:1];

```

</TabItem>

<TabItem value="Android">

### Function Prototype

```dart showLineNumbers
   public Message createSoundMessageFromFullPath(String soundPath, long duration)
```

### Input Parameters

| Parameter Name | Parameter Type | Mandatory | Description   |
| -------------- | -------------- | --------- | ------------- |
| soundPath      | String         | Yes       | Absolute path |
| duration       | int            | Yes       | Duration      |

### Return Result

| Name | Type                                               | Description     |
| ---- | -------------------------------------------------- | --------------- |
| ~    | [Message](/class/message/messageInfo.mdx) | Success return |

### Code Example

```dart showLineNumbers
       Message Message= OpenIMClient.getInstance().messageManager.createSoundMessageFromFullPath( soundPath,  duration)
```

</TabItem>

<TabItem value="Web">

:::caution Caution

For the Web platform, it's recommended to use [createSoundMessageByURL](/api/message/createSoundMessageByURL.mdx) or [createSoundMessageByFile](/api/message/createSoundMessageByFile.mdx).

:::

</TabItem>

<TabItem value="uni-app">

### Function Prototype

```ts showLineNumbers
IMSDK.asyncApi('createSoundMessageFromFullPath', operationID: string, {
  soundPath: string,
  duration: number
}): Promise<MessageItem>
```

### Input Parameters

| Parameter Name | Parameter Type | Mandatory | Description                                           |
| -------------- | -------------- | --------- | ----------------------------------------------------- |
| operationID    | string         | Yes       | Operation ID, used for problem tracking, suggested to use current time and a random number |
| soundPath      | string         | Yes       | File absolute path                                    |
| duration       | number         | Yes       | Recording duration                                    |

### Return Result

> Using the `openim-uniapp-polyfill` package makes the function return a Promise. You'll need to use `then` and `catch` to handle the success and failure callbacks respectively.

| Parameter Name | Type                                                         | Description     |
| -------------- | ------------------------------------------------------------ | --------------- |
| Promise.then() | Promise<[MessageItem](/class/message/messageInfo.mdx)\> | Success callback |
| Promise.catch()| Promise<[CatchResponse](/class/response.mdx)\>          | Failure callback |

### Code Example

```js showLineNumbers
import IMSDK from 'openim-uniapp-polyfill';

IMSDK.asyncApi('createSoundMessageFromFullPath', IMSDK.uuid(), {
  soundPath: 'soundPath',
  duration: 6,
})
  .then((data) => {
    // Call succeeded
  })
  .catch(({ errCode, errMsg }) => {
    // Call failed
  });
```

</TabItem>
<TabItem value="React-Native">

### Function Prototype

```ts showLineNumbers
OpenIMSDKRN.createSoundMessageFromFullPath({
  soundPath: string,
  duration: number,
}, operationID: string): Promise<MessageItem>
```

### Input Parameters

| Parameter Name    | Parameter Type | Mandatory | Description                                                   |
| ----------- | -------- | -------- | ------------------------------------------------------- |
| soundPath   | string   | Yes       | File absolute path                                            |
| duration    | number   | Yes       | Recording duration                                                |
| operationID | string   | Yes       | Operation ID, used for problem location, keep unique, suggest using current time and random number |

### Return Result

| Parameter Name        | Parameter Type                                                         | Description        |
| --------------- | ---------------------------------------------------------------- | ------------ |
| Promise.then()  | Promise<[MessageItem](/class/message/messageInfo.mdx)\> | Callback on successful call |
| Promise.catch() | Promise<[CatchResponse](/class/response.mdx)\>          | Callback on failed call |

### Code Example

```js showLineNumbers
import OpenIMSDKRN from "open-im-sdk-rn";

OpenIMSDKRN.createSoundMessageFromFullPath({
  soundPath: 'soundPath',
  duration: 6,
}, 'operationID')
  .then((data) => {
    // Call succeeded
  })
  .catch(({ errCode, errMsg }) => {
    // Call failed
  });
```

</TabItem>
</Tabs>
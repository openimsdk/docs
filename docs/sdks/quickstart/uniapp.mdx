---
title: uni-app
hide_title: true
sidebar_position: 5
---

## 使用 Demo

[仓库地址](https://github.com/OpenIMSDK/Open-IM-PC-Web-Demo)

## 集成步骤

### 1. 添加依赖

> 官方插件已上传至[dcloud 插件市场](https://ext.dcloud.net.cn/plugin?id=6577)

- 选择对应项目和包名引入 SDK

![uni_import](./assets/uni_import.png)

- 打开引入 SDK 项目根目录下`manifest.json`文件，选择**App 原生插件配置**，选择云端插件进行导入。

![uni_import_manifest](./assets/uni_import_manifest.png)

- 下载 npm 包，简化对 SDK 的引入和使用，并封装 API 为 Promse 形式。

```bash
npm install openim-uniapp-polyfill
```

### 2. 在项目中引入

```js
import IMSDK from 'openim-uniapp-polyfill';

const userID = '';
const token = '';
IMSDK.asyncApi(IMSDK.IMMethods.Login, IMSDK.uuid(), userID, token)
  .then(() => {
    // 登录成功
  })
  .catch(() => {
    // 登录失败
  });

const onConnectSuccess = () => {
  // 连接成功
};
// 设置监听
IMSDK.subscribe(IMSDK.IMEvents.OnConnectSuccess, onConnectSuccess);
// 卸载监听
IMSDK.unsubscribe(IMSDK.IMEvents.OnConnectSuccess, onConnectSuccess);
```

### 3. 云打包自定义调试基座

> 注意：包名需要与第一步引入云插件时设置的包名一致

![uni_build](./assets/uni_build.png)

### 4. 已自定义调试基座启动

![uni_run](./assets/uni_run.png)

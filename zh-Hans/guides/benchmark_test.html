<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-guides docs-doc-id-benchmark_test">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">压力及可靠性测试报告 | OpenIM Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doc.rentsoft.cn/zh-Hans/guides/benchmark_test"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-guides-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-guides-current"><meta data-rh="true" property="og:title" content="压力及可靠性测试报告 | OpenIM Docs"><meta data-rh="true" name="description" content="背景"><meta data-rh="true" property="og:description" content="背景"><link data-rh="true" rel="icon" href="/zh-Hans/favicon.ico"><link data-rh="true" rel="canonical" href="https://doc.rentsoft.cn/zh-Hans/guides/benchmark_test"><link data-rh="true" rel="alternate" href="https://doc.rentsoft.cn/zh-Hans/guides/benchmark_test" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://doc.rentsoft.cn/guides/benchmark_test" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://doc.rentsoft.cn/guides/benchmark_test" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NRY7H605ZD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="OpenIM Docs" href="/zh-Hans/opensearch.xml">





<script src="/embed.js"></script><link rel="stylesheet" href="/zh-Hans/assets/css/styles.e655a53d.css">
<link rel="preload" href="/zh-Hans/assets/js/runtime~main.68bf3b4f.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/main.520f7a65.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-Hans/"><div class="navbar__logo"><img src="/zh-Hans/logo/light.png" alt="OpenIM Docs" class="themedImage_ToTc themedImage--light_HNdA logo-icon" width="107.5px"><img src="/zh-Hans/logo/dark.png" alt="OpenIM Docs" class="themedImage_ToTc themedImage--dark_i4oU logo-icon" width="107.5px"></div></a><a class="navbar__item navbar__link" href="/zh-Hans/guides/introduction">Guides</a><a class="navbar__item navbar__link" href="/zh-Hans/sdks/introduction">Client SDKs</a><a class="navbar__item navbar__link" href="/zh-Hans/restapi/apis/introduction">Server APIs</a><a class="navbar__item navbar__link" href="/zh-Hans/blog/introduction">Blog</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="relative flex items-center gap-2"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索" id="search-bar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><a href="https://github.com/OpenIMSDK" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link dev-portal-signup dev-portal-link header-github-link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/zh-Hans/guides/benchmark_test" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li><li><a href="/guides/benchmark_test" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为暗黑模式）" aria-label="切换浅色/暗黑模式（当前为暗黑模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_mhZE"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh-Hans/guides/introduction">OpenIM</a><button aria-label="打开/收起侧边栏菜单「OpenIM」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-Hans/guides/gettingStarted/env-comp">快速部署</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-Hans/guides/solution/offlinePush">解决方案</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/zh-Hans/guides/benchmark_test">压力及可靠性测试报告</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-Hans/guides/pressure_test">压测报告</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>OpenIM压力及可靠性测试</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="背景">背景<a href="#背景" class="hash-link" aria-label="背景的直接链接" title="背景的直接链接">​</a></h2><p>为了全面测试OpenIM，首先需要明确其核心功能和架构。OpenIM不是一个独立的聊天应用程序，如WeChat或Slack，而是一个包含IMSDK（用于客户端集成）和IMServer（用于私有化部署）的开源即时通讯解决方案。这使得开发者可以在自己的应用程序中轻松集成即时通讯功能，提供一个替代Twilio或Sendbird等即时通讯云服务的选择。由于IMSDK底层是用Go语言编写的openim-sdk-core，模拟大规模用户在移动设备上的使用场景具有一定的挑战。实际上，使用成千上万台手机进行测试是不现实的。为此，我们设计了两套测试程序：</p><ol><li><strong>测试程序A-可靠性</strong>：<ul><li>该程序在服务器上加载并运行openim-sdk-core来模拟IMSDK实例。每个实例都使用SQLite进行消息存储。这种方法可以全面模拟客户端的行为，包括消息的发送、接收、存储和回调，有效验证消息收发的可靠性和时延。但是，如果在单个服务器上运行过多的SDK实例，可能会导致客户端IMSDK性能下降。</li></ul></li><li><strong>测试程序B-压力</strong>：<ul><li>此程序精简了IMSDK的功能，只保留登录和消息收发功能，旨在通过启动大量实例模拟高并发场景，以评估服务器在重负载下的表现和稳定性。虽然这种方法不能完全验证客户端SDK的全部流程，但它对于评估服务器的承载能力和资源管理策略至关重要。它的缺点是：不能完整模拟IMSDK的功能，也就无法验证消息收发可靠性。</li></ul></li></ol><p>综合这两种测试程序，程序B主要用于模拟大量用户同时在线并进行消息交互，以增加服务器的负荷；而程序A则用于加载IMSDK，通过抽样统计来评估消息的可靠性和时延。两种程序的联合使用可以更好地模拟真实用户场景，并客观地提供IMSDK的测试报告。这种双重测试策略确保了从不同角度对系统进行全面的评估和验证。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="可靠性和时延">可靠性和时延<a href="#可靠性和时延" class="hash-link" aria-label="可靠性和时延的直接链接" title="可靠性和时延的直接链接">​</a></h2><p>消息的可靠性通常指的是消息投递的可靠性，即所谓的“消息必达”。这意味着一旦消息被发送，它必须能够被接收者成功收到。考虑到网络环境的复杂性和用户在线状态的不确定性，消息的可靠性无疑成为IM系统的一个核心性能指标，也是实现上的一大挑战。通常所说的IM系统的“可靠性”，主要是指聊天消息的投递可靠性。需要说明的是，这里的“消息”是广义的，包括用户看不见的各种指令和通知，如进群退群通知、好友添加通知等。</p><p>消息时延则指从客户端A创建并发送消息，到客户端B成功接收并入库这一消息的耗时。有些IM系统仅将消息从客户端发送到服务器的接收计入消息时延的统计，这种做法并不全面。正确的做法应该包括从客户端A发送到客户端B接收的整体耗时。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="测试资源"><strong>测试资源</strong><a href="#测试资源" class="hash-link" aria-label="测试资源的直接链接" title="测试资源的直接链接">​</a></h3><p>服务器1：Ubuntu 22.04.2，16Core，64GB RAM，150GB 机械磁盘：部署组件和IMServer；同时部署测试程序B，可能也会部署测试程序A在共享内存/dev/shm上</p><p>服务器2：Ubuntu 18.04.5，4Core，8GB RAM，40GB 机械磁盘：部署测试程序A在共享内存/dev/shm上</p><p>在服务端start-config.yml中，把服务的实例调整为openim-push: 8，openim-msgtransfer: 8，其他保持1个实例不变。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="测试场景和结果"><strong>测试场景和结果</strong><a href="#测试场景和结果" class="hash-link" aria-label="测试场景和结果的直接链接" title="测试场景和结果的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="测试一200个用户">测试一：200个用户<a href="#测试一200个用户" class="hash-link" aria-label="测试一：200个用户的直接链接" title="测试一：200个用户的直接链接">​</a></h4><p>测试程序A，模拟200个用户，其中100个立刻登录，向小群、好友发送消息</p><p>测试程序A统计消息完整性和时延：go run main.go -lgr 0.5 -imf -crg -ckgn -ckcon -sem -ckmsn -u 200 -su 10 -lg 2 -cg 2 -cgm 5 -sm 5 -gm 5 -reg</p><p>此时，测试程序A部署在服务器1的共享内存/dev/shm上</p><table><thead><tr><th>参数/结果</th><th>描述</th></tr></thead><tbody><tr><td><strong>测试目的</strong></td><td>少量用户情况下测试消息可靠性和耗时</td></tr><tr><td><strong>用户数量</strong></td><td>200用户，其中100人立刻登录，另外100个延迟登录</td></tr><tr><td><strong>群数量及规模</strong></td><td>每人加入0-10个常规群，群成员人数为5人</td></tr><tr><td><strong>发消息频率</strong></td><td>峰值150条/s</td></tr><tr><td><strong>消息总数</strong></td><td>112350</td></tr><tr><td><strong>消息完整性</strong></td><td>100%（所有消息精准送达）</td></tr><tr><td><strong>消息平均时延</strong></td><td>0.231秒</td></tr><tr><td><strong>消息最大时延</strong></td><td>1.703秒</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="测试二5万在线用户小群">测试二：5万在线用户+小群<a href="#测试二5万在线用户小群" class="hash-link" aria-label="测试二：5万在线用户+小群的直接链接" title="测试二：5万在线用户+小群的直接链接">​</a></h4><p>测试程序B：模拟5万在线用户，随机发送消息</p><p>测试程序A：模拟100个用户，其中80个立刻登录，向小群、好友发送消息</p><p>测试程序A注册10万用户：go run main.go -reg -u 100000</p><p>测试程序B启动5万在线用户：go run main.go -s 49500 -e 99500 -c 100 -i 500 -rs 1000 -rr 1000</p><p>测试程序A统计消息完整性和时延： go run main.go -lgr 0.8 -imf -crg -ckgn -ckcon -sem -ckmsn -u 100 -su 3 -lg 0 -cg 4 -cgm 5 -sm 100 -gm 100</p><p>此时，测试程序A部署在服务器2的共享内存/dev/shm上，测试程序B部署在服务器1上</p><table><thead><tr><th>参数/结果</th><th>描述</th></tr></thead><tbody><tr><td><strong>压力情况</strong></td><td>50000用户在线，每秒发送约1700条消息</td></tr><tr><td><strong>抽样统计用户数</strong></td><td>100用户，其中80人立刻登录，另外20个延迟登录</td></tr><tr><td><strong>抽样统计用户的群数量及规模</strong></td><td>每人加入0-20个常规群，群成员人数为5人</td></tr><tr><td><strong>抽样统计消息发送频率</strong></td><td>峰值160条/s</td></tr><tr><td><strong>抽样统计消息数</strong></td><td>170800</td></tr><tr><td><strong>抽样统计消息完整性</strong></td><td>100%（所有消息精准送达）</td></tr><tr><td><strong>抽样统计消息平均时延</strong></td><td>0.202秒</td></tr><tr><td><strong>抽样统计消息最大时延</strong></td><td>3.641秒</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="测试三5万在线用户5万大群">测试三：5万在线用户+5万大群<a href="#测试三5万在线用户5万大群" class="hash-link" aria-label="测试三：5万在线用户+5万大群的直接链接" title="测试三：5万在线用户+5万大群的直接链接">​</a></h4><p>测试程序B：模拟5万在线用户，随机发送消息</p><p>测试程序A：模拟20个用户，其中16个立刻登录，向10个5万人群聊、好友发送消息</p><p>测试程序A注册10万用户：go run main.go -reg -u 100000</p><p>测试程序B启动5万在线用户：go run main.go -o 50000 -s 49500 -e 99500 -c 100 -i 500 -rs 1000 -rr 1000</p><p>测试程序A统计消息完整性和时延：go run main.go -lgr 0.8 -imf -crg -ckgn -ckcon -sem -ckmsn -u 20 -su 3 -lg 10 -cg 0 -cgm 5 -sm 0 -gm 10</p><p>此时，测试程序A部署在服务器2的共享内存/dev/shm上，测试程序B部署在服务器1上</p><table><thead><tr><th>参数/结果</th><th>描述</th></tr></thead><tbody><tr><td><strong>压力情况</strong></td><td>50000用户在线，每秒发送约1700条消息</td></tr><tr><td><strong>抽样统计用户数</strong></td><td>20用户，其中16人立刻登录，另外4个延迟登录</td></tr><tr><td><strong>抽样统计用户的群数量及规模</strong></td><td>10个大群，每个群50000人，其中500人在线</td></tr><tr><td><strong>抽样统计消息发送频率</strong></td><td>峰值32条/s</td></tr><tr><td><strong>抽样统计消息数</strong></td><td>24000</td></tr><tr><td><strong>抽样统计消息完整性</strong></td><td>100%（所有消息精准送达）</td></tr><tr><td><strong>抽样统计消息平均时延</strong></td><td>0.022秒</td></tr><tr><td><strong>抽样统计消息最大时延</strong></td><td>1.664秒</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="测试二服务器资源消耗">测试二服务器资源消耗<a href="#测试二服务器资源消耗" class="hash-link" aria-label="测试二服务器资源消耗的直接链接" title="测试二服务器资源消耗的直接链接">​</a></h4><p>登录用户数：</p><img loading="lazy" src="/zh-Hans/assets/images/br-login-3cd26e2e43f94a1539790a376dd2d1cb.png" alt="br-login" class="img_ev3q"><p>消息压力：（下图指标表示1分钟服务器接收到的消息量）</p><img loading="lazy" src="/zh-Hans/assets/images/br-msg-d51a6833a292c607a9dc6cf81f9fd2da.png" alt="br-msg" class="img_ev3q"><p>CPU使用情况：</p><img loading="lazy" src="/zh-Hans/assets/images/br-cpu-9aa4d9fb0f746ba56300844c9f6ee601.png" alt="br-cpu" class="img_ev3q"><table><thead><tr><th>进程</th><th>CPU占用</th></tr></thead><tbody><tr><td>openim-msggateway</td><td>210%</td></tr><tr><td>mongo</td><td>100%</td></tr><tr><td>kafka</td><td>84%</td></tr><tr><td>redis</td><td>67%</td></tr><tr><td>openim-rpc-msg</td><td>56%</td></tr><tr><td>openim-msgtransfer</td><td>27%*8</td></tr><tr><td>openim-push</td><td>13%*8</td></tr><tr><td>其他<code>OpenIM</code>服务以及组件</td><td>65%</td></tr><tr><td>总计</td><td>902%</td></tr></tbody></table><p>物理内存占用情况：</p><img loading="lazy" src="/zh-Hans/assets/images/br-mem-23ddfb9ac9d3682c7f7ccc76eb1ffb1c.png" alt="br-mem" class="img_ev3q"><table><thead><tr><th>进程</th><th>内存占用</th></tr></thead><tbody><tr><td>openim-msggateway</td><td>2.1 GiB</td></tr><tr><td>mongo</td><td>717 MiB</td></tr><tr><td>kafka</td><td>1.1GiB</td></tr><tr><td>redis</td><td>85MiB</td></tr><tr><td>openim-rpc-msg</td><td>162MiB</td></tr><tr><td>openim-msgtransfer</td><td>74MiB*8</td></tr><tr><td>openim-push</td><td>126MiB*8</td></tr><tr><td>其他<code>OpenIM</code>服务以及组件</td><td>457MiB</td></tr><tr><td>总计（所有<code>OpenIM</code>服务以及组件）</td><td>6.986GiB</td></tr></tbody></table><p><em>备注：以上表格内容是粗略统计，在总计中不包括docker转发数据到容器的资源消耗，仅供参考。</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="结果分析"><strong>结果分析</strong><a href="#结果分析" class="hash-link" aria-label="结果分析的直接链接" title="结果分析的直接链接">​</a></h3><p>OpenIM 支持同时在线 5 万人，能够处理多个 5 万人超级大群，面对每秒 1700 条消息的压力时，消息可达率达到 100%。平均消息时延低于 1 秒，最大时延不超过 3 秒，展现出卓越的性能和可靠性。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置建议"><strong>配置建议</strong><a href="#配置建议" class="hash-link" aria-label="配置建议的直接链接" title="配置建议的直接链接">​</a></h4><p>按照10万注册用户，日常在线10%用户，支持5万大群计算，每秒600条消息，建议配置：</p><table><thead><tr><th>名称</th><th>配置</th></tr></thead><tbody><tr><td>内存</td><td>16G</td></tr><tr><td>CPU</td><td>8核</td></tr><tr><td>网络带宽</td><td>10M</td></tr></tbody></table><p><em>备注：消息包大小按照2KB计算。实际消息包大小根据发送内容而异，常规的一句文字消息消息包大小为700字节左右。</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="补充说明"><strong>补充说明</strong><a href="#补充说明" class="hash-link" aria-label="补充说明的直接链接" title="补充说明的直接链接">​</a></h3><p>本次测试用到了两个测试程序：</p><p>压力测试程序，路径：<code>openim-sdk-core/msgtest/</code></p><p>可靠性测试程序，路径：<code>openim-sdk-core/integration_test/</code></p><p>以下是可靠性测试程序的使用说明以及检测逻辑的说明。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="参数说明"><strong>参数说明</strong><a href="#参数说明" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h4><p>测试程序支持通过配置参数来指定不同的测试场景。通过灵活设置参数，用户可以自由地模拟各种复杂场景，涵盖不同的网络状态和操作流程，从而更精确地评估消息通道的可靠性。</p><table><thead><tr><th>参数</th><th>含义</th><th>类型</th></tr></thead><tbody><tr><td>u</td><td>用户数量</td><td>int</td></tr><tr><td>su</td><td>拥有所有好友的用户数量</td><td>int</td></tr><tr><td>lg</td><td>包含大群的数量</td><td>int</td></tr><tr><td>lgm</td><td>大群人数</td><td>int</td></tr><tr><td>cg</td><td>每个人创建的常规群聊数量</td><td>int</td></tr><tr><td>cgm</td><td>常规群人数</td><td>int</td></tr><tr><td>sm</td><td>每人发送的私聊消息数量</td><td>int</td></tr><tr><td>gm</td><td>每人发送的群聊消息数量</td><td>int</td></tr><tr><td>reg</td><td>是否注册</td><td>bool</td></tr><tr><td>imf</td><td>是否导入好友</td><td>bool</td></tr><tr><td>crg</td><td>是否创建群组</td><td>bool</td></tr><tr><td>sem</td><td>是否发送消息</td><td>bool</td></tr><tr><td>ckgn</td><td>是否检查群组数量</td><td>bool</td></tr><tr><td>ckcon</td><td>是否检查会话数量</td><td>bool</td></tr><tr><td>ckmsn</td><td>是否检查消息数量</td><td>bool</td></tr><tr><td>ckuni</td><td>是否模拟卸载和重新安装并再次检查</td><td>bool</td></tr><tr><td>lgr</td><td>登录用户比例/登录率</td><td>float</td></tr></tbody></table><p>以下为一个运行命令的示例：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">go run main.go -u </span><span class="token number" style="color:rgb(181, 206, 168)">10</span><span class="token plain"> -su </span><span class="token number" style="color:rgb(181, 206, 168)">3</span><span class="token plain"> -lg </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> -cg </span><span class="token number" style="color:rgb(181, 206, 168)">4</span><span class="token plain"> -cgm </span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token plain"> -sm </span><span class="token number" style="color:rgb(181, 206, 168)">6</span><span class="token plain"> -gm </span><span class="token number" style="color:rgb(181, 206, 168)">7</span><span class="token plain"> -reg -lgr </span><span class="token number" style="color:rgb(181, 206, 168)">0.7</span><span class="token plain"> -imf -crg -ckgn -ckcon -sem -ckmsn -ckuni</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>该命令的参数含义如下：</p><ul><li><code>-u 10</code>：总共创建10个用户</li><li><code>-su 3</code>：创建3个超级用户</li><li><code>-lg 2</code>：创建2个大群聊</li><li><code>-cg 4</code>：每个登录用户创建4个小群聊</li><li><code>-cgm 5</code>：每个小群聊包含5个成员</li><li><code>-sm 6</code>：发送6条私聊消息</li><li><code>-gm 7</code>：发送7条群聊消息</li><li><code>-reg</code>：执行用户注册</li><li><code>-lgr 0.7</code>：70%的用户登录</li><li><code>-imf</code>：导入好友</li><li><code>-crg</code>：创建群聊</li><li><code>-ckgn</code>：检测群聊数量</li><li><code>-ckcon</code>：检测会话数量</li><li><code>-sem</code>：发送消息</li><li><code>-ckmsn</code>：检测消息数量</li><li><code>-ckuni</code>：模拟卸载重装操作</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置文件说明"><strong>配置文件说明</strong><a href="#配置文件说明" class="hash-link" aria-label="配置文件说明的直接链接" title="配置文件说明的直接链接">​</a></h4><p>配置文件位于 <code>internal/config/</code> 目录中，基础配置文件为 <code>config.go</code>，配置如下：</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">    TestIP              </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;127.0.0.1&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// ip 地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    APIAddr             </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;http://&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> TestIP </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;:10002&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    WsAddr              </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;ws://&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> TestIP </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;:10001&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    AdminUserID         </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;imAdmin&quot;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 服务端管理员ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Secret              </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;openIM123&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 服务端管理员密码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    PlatformID          </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> constant</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">WindowsPlatformID </span><span class="token comment" style="color:rgb(106, 153, 85)">// 模拟的登录平台类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    LogLevel            </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">3</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 日志级别</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    DataDir             </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;./data/&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 数据文件路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    LogFilePath         </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;./logs/&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 日志文件路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    IsLogStandardOutput </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 是否在控制条输出日志，建议false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="具体实现方案"><strong>具体实现方案</strong><a href="#具体实现方案" class="hash-link" aria-label="具体实现方案的直接链接" title="具体实现方案的直接链接">​</a></h4><p>测试程序的核心操作可以分为两类：<strong>模拟操作</strong>和<strong>检测操作</strong>。模拟操作用于模拟实际场景中的用户行为，如注册、登录、消息发送等。由于模拟操作涉及异步执行，为确保所有操作正常完成，测试程序会执行检测操作，以验证结果的正确性。例如，在登录过程中，必须确保每个客户端成功连接至服务器，才能继续后续操作，此时进行用户登录数量的检测尤为重要。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="模拟操作说明"><strong>模拟操作说明</strong><a href="#模拟操作说明" class="hash-link" aria-label="模拟操作说明的直接链接" title="模拟操作说明的直接链接">​</a></h5><p>模拟操作逻辑位于 <code>internal/manager</code> 目录下，目前包含以下几项核心操作：</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="用户注册"><strong>用户注册</strong><a href="#用户注册" class="hash-link" aria-label="用户注册的直接链接" title="用户注册的直接链接">​</a></h6><p>通过调用服务端 API 来模拟用户注册。用户分为<strong>超级用户</strong>和<strong>普通用户</strong>。超级用户拥有所有用户作为好友，普通用户仅添加超级用户为好友。</p><ul><li>假设系统中存在 <code>u</code> 个用户，其中 <code>su</code> 个为超级用户，则用户的编号范围为 <code>0~u-1</code>。编号为 <code>0~su-1</code> 的用户为超级用户，剩余用户为普通用户。</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="用户登录"><strong>用户登录</strong><a href="#用户登录" class="hash-link" aria-label="用户登录的直接链接" title="用户登录的直接链接">​</a></h6><p>用户登录的数量通过计算 <code>用户总数 * 登录率</code>，并向下取整得到。被选中的用户编号范围为 <code>[0, LoginUserNum)</code>。</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="好友导入"><strong>好友导入</strong><a href="#好友导入" class="hash-link" aria-label="好友导入的直接链接" title="好友导入的直接链接">​</a></h6><p>好友导入操作同样通过调用服务端 API 模拟完成。每个超级用户会向其编号之后的所有用户发送好友申请，服务端自动同意申请并发送通知。</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="群聊创建"><strong>群聊创建</strong><a href="#群聊创建" class="hash-link" aria-label="群聊创建的直接链接" title="群聊创建的直接链接">​</a></h6><p>群聊分为<strong>大群聊</strong>和<strong>常规群聊</strong>：</p><ul><li><strong>大群聊</strong>：大群包含所有用户，创建数量由参数 <code>gl</code> 指定。创建者按编号从 <code>0</code> 开始轮流分配，超出登录用户人数时重新从编号 <code>0</code> 开始。</li><li><strong>常规群聊</strong>：每个登录用户都会创建常规群聊，创建数量由参数 <code>gs</code> 指定，群成员数量由 <code>gms</code> 参数控制。用户编号为 <code>n</code> 的用户会选择编号范围为 <code>[n+1, n+gms)</code> 的用户作为群成员，超出最大编号时从 <code>0</code> 重新开始选择。</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="消息发送"><strong>消息发送</strong><a href="#消息发送" class="hash-link" aria-label="消息发送的直接链接" title="消息发送的直接链接">​</a></h6><p>消息发送分为<strong>群聊消息</strong>和<strong>私聊消息</strong>：</p><ul><li><strong>群聊消息</strong>：每个登录用户会向大群聊及其创建的群聊发送 <code>gm</code> 条消息（待实现频率控制：最多每秒 3000 条消息）。</li><li><strong>私聊消息</strong>：每个登录用户会向其所有好友发送 <code>sm</code> 条私聊消息（待实现频率控制：最多每秒 1000 条消息）。</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="卸载重装待完成"><strong>卸载重装(待完成)</strong><a href="#卸载重装待完成" class="hash-link" aria-label="卸载重装待完成的直接链接" title="卸载重装待完成的直接链接">​</a></h6><p>卸载操作通过删除本地数据文件并暂停一定时间来模拟，确保客户端停止发送心跳包，服务器检测到客户端下线并断开连接。</p><p>重装通过 SDK 初始化来模拟，卸载重装后程序会重新登录并执行后续检测操作。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="检测操作说明"><strong>检测操作说明</strong><a href="#检测操作说明" class="hash-link" aria-label="检测操作说明的直接链接" title="检测操作说明的直接链接">​</a></h5><p>检测操作在 <code>internal/checker</code> 目录下实现，并采取循环检测的方式。在触发检测后，程序会进行一轮数据验证，只有当所有数据与预期结果一致时，才会继续执行下一步操作；否则将重复检测，直至数据符合预期。</p><p>检测操作的主要目的有两个：</p><ol><li><strong>阻塞主进程</strong>：确保异步的模拟操作已全部完成。</li><li><strong>验证结果正确性</strong>：通过一系列正确性检测操作，验证模拟操作是否达到预期效果。</li></ol><p>当前包含以下检测操作：</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="用户登录检测"><strong>用户登录检测</strong><a href="#用户登录检测" class="hash-link" aria-label="用户登录检测的直接链接" title="用户登录检测的直接链接">​</a></h6><p>用户登录检测发生在<strong>初始化或注册</strong>之后，以及每次<strong>正确性检测操作</strong>之前。通过计算与服务器成功建立连接的实际用户数量，比较预期登录用户数量。</p><p>预期用户登录数：</p><ol><li><code>用户总数 * 登录率</code>，向下取整。</li><li>所有用户总数。</li></ol><h6 class="anchor anchorWithStickyNavbar_LWe7" id="好友数量检测"><strong>好友数量检测</strong><a href="#好友数量检测" class="hash-link" aria-label="好友数量检测的直接链接" title="好友数量检测的直接链接">​</a></h6><p>好友数量检测在导入好友操作完成后执行。由于离线用户无法同步数据，此检测仅针对在线用户的好友数量进行验证。</p><p>实际好友数量通过调用相应 SDK 获取，预期好友数量如下：</p><ul><li><strong>超级用户</strong>：好友数量应为所有用户数。</li><li><strong>普通用户</strong>：好友数量应为所有超级用户数。</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="群聊数量检测"><strong>群聊数量检测</strong><a href="#群聊数量检测" class="hash-link" aria-label="群聊数量检测的直接链接" title="群聊数量检测的直接链接">​</a></h6><p>群聊数量检测属于正确性检测操作，通过调用 SDK 获取实际群聊数量。</p><p>预期群聊数量为：</p><ul><li>大群数量 + 常规群数量（常规群数量依据用户登录情况可能有所不同）。</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="会话数量检测"><strong>会话数量检测</strong><a href="#会话数量检测" class="hash-link" aria-label="会话数量检测的直接链接" title="会话数量检测的直接链接">​</a></h6><p>会话数量检测也属于正确性检测，通过 SDK 获取实际会话数量。</p><p>预期会话数量为：</p><ul><li>所有群聊会话数量 + 所有好友会话数量。</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="未读消息数检测"><strong>未读消息数检测</strong><a href="#未读消息数检测" class="hash-link" aria-label="未读消息数检测的直接链接" title="未读消息数检测的直接链接">​</a></h6><p>未读消息检测同样属于正确性检测，通过调用 SDK 获取实际未读消息数量，并与预期值进行对比。</p><p>预期未读消息数计算方式为：</p><ul><li>所有群通知消息 + 所有群消息 - (自己创建的群通知消息 + 自己发送的群消息) + 好友申请通过通知消息 + 好友消息。</li></ul><p>需要注意的是，只有申请发起人会收到好友申请通过的未读通知消息，且根据<strong>导入好友</strong>操作逻辑，只有超级用户的通知消息数量会有所不同。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="限制修改"><strong>限制修改</strong><a href="#限制修改" class="hash-link" aria-label="限制修改的直接链接" title="限制修改的直接链接">​</a></h4><ul><li>在模拟操作过程中，多个 SDK 实例同时运行，可能会对服务器造成较大压力，进而引发超时或其他问题。为确保系统在进行大规模数据量测试时能够平稳运行，需对以下几个关键指标进行调整：<ol><li><strong>修改请求超时时间</strong><ul><li>位置：<code>openim-sdk-core/pkg/network/http_client.go</code></li><li>调整内容：将请求的默认超时时间适当延长，以减少大数据量情况下的请求超时问题。建议根据测试规模和实际网络情况进行合理配置。</li></ul></li><li><strong>设置通知消息未读状态</strong><ul><li>位置：<code>open-im-server/config/notification.yml</code></li><li>调整内容：将 <code>groupCreated</code> 和 <code>friendApplicationApproved</code> 的 <code>unreadCount</code> 参数设置为 <code>true</code>。此配置将确保在线用户接收到群创建和好友申请通过的通知消息时，依然将其标记为未读消息，方便后续的未读消息数量计算。</li></ul></li><li><strong>最大文件描述符数量</strong><ul><li>位置：<code>open-im-server/start-config.yml</code></li><li>调整内容：根据测试时需要登录的用户数量，将<code>maxFileDescriptors</code>的值适当变大。</li></ul></li></ol></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/OpenIMSDK/docs/tree/main/docs/guides/benchmark_test.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2025-04-17T02:43:48.000Z">2025年4月17日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-Hans/guides/solution/s3convert"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">如何迁移到其他S3存储</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-Hans/guides/pressure_test"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">压测报告</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#背景" class="table-of-contents__link toc-highlight">背景</a></li><li><a href="#可靠性和时延" class="table-of-contents__link toc-highlight">可靠性和时延</a><ul><li><a href="#测试资源" class="table-of-contents__link toc-highlight"><strong>测试资源</strong></a></li><li><a href="#测试场景和结果" class="table-of-contents__link toc-highlight"><strong>测试场景和结果</strong></a></li><li><a href="#结果分析" class="table-of-contents__link toc-highlight"><strong>结果分析</strong></a></li><li><a href="#补充说明" class="table-of-contents__link toc-highlight"><strong>补充说明</strong></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container-fluid container"><div class="margin-bottom--sm"><a class="footerLogoLink_DDai" href="/zh-Hans/"><img src="/zh-Hans/logo/light.png" alt="OpenIM Docs" class="themedImage_ToTc themedImage--light_HNdA footer__logo" height="38px"><img src="/zh-Hans/logo/dark.png" alt="OpenIM Docs" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" height="38px"></a></div><p class="footer__description">OpenIM是由IM技术专家打造的开源的即时通讯组件。OpenIM包括IM服务端和客户端SDK，实现了高性能、轻量级、易扩展等重要特性。开发者通过集成OpenIM组件，并私有化部署服务端，可以将即时通讯、实时网络能力快速集成到自身应用中，并确保业务数据的安全性和私密性。</p><div class="footer__row"><div class="footer__data"><div class="footer__cta"><p>加入Slack频道与大家交流讨论！</p><a href="https://join.slack.com/t/openimsdk/shared_invite/zt-2hljfom5u-9ZuzP3NfEKW~BJKbpLm0Hw" target="_blank" rel="noopener noreferrer">加入</a></div></div><div class="links"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">产品</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://openim.io/commercial" target="_blank" rel="noopener noreferrer" class="footer__link-item">商业版本</a></li></ul></div><div class="col footer__col"><div class="footer__title">公司</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://openim.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">关于我们</a></li><li class="footer__item"><a href="mailto:contact@openim.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">联系我们</a></li></ul></div><div class="col footer__col"><div class="footer__title">资源</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/guides/introduction">文档</a></li><li class="footer__item"><a href="https://join.slack.com/t/openimsdk/shared_invite/zt-2hljfom5u-9ZuzP3NfEKW~BJKbpLm0Hw" target="_blank" rel="noopener noreferrer" class="footer__link-item">社区</a></li></ul></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © OpenIM since 2023. All rights reserved.</div></div></div></footer></div>
<script src="/zh-Hans/assets/js/runtime~main.68bf3b4f.js"></script>
<script src="/zh-Hans/assets/js/main.520f7a65.js"></script>
</body>
</html>
---
title: iOS
hide_title: true
sidebar_position: 1
---

## ğŸš€ä½¿ç”¨ Demo
æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨é¦–å…ˆè¿è¡Œæˆ‘ä»¬ä¸ºæ‚¨å‡†å¤‡çš„æ¡†æ¶ç›¸å…³çš„ç¤ºä¾‹ [DEMO](https://github.com/OpenIMSDK/Open-IM-iOS-Demo)ã€‚è¿™ä¸ä»…å¯ä»¥è®©æ‚¨ç›´è§‚ä½“éªŒ OpenIMSDK çš„åŠŸèƒ½ï¼Œè¿˜å°†å¸®åŠ©æ‚¨åœ¨å®é™…é›†æˆè¿‡ç¨‹ä¸­è¿…é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚

## é›†æˆæ­¥éª¤

### 1. ç›®å‰é‡‡ç”¨ cocoapds è·å– sdkï¼Œæ·»åŠ ä¾èµ–åˆ° Podfileï¼š

```ruby
pod 'OpenIMSDK', '~>3.0.0'
```

SDK ç‰ˆæœ¬å‚è€ƒï¼šhttps://github.com/OpenIMSDK/Open-IM-SDK-iOS.git

### 2. å¼•å…¥æ¨¡å—

```swift
@import OpenIMSDK;
```

### 3. åˆå§‹åŒ–

```swift
OIMInitConfig *config = [OIMInitConfig new];
config.apiAddr = @"";
config.wsAddr = @"";
config.objectStorage = @"";

BOOL success = [OIMManager.manager initSDKWithConfig:config
                                        onConnecting:^{

} onConnectFailure:^(NSInteger code, NSString * _Nullable msg) {
    // è¿æ¥å¤±è´¥çš„å›è°ƒå‡½æ•°
    // code é”™è¯¯ç 
    // error é”™è¯¯ä¿¡æ¯
} onConnectSuccess:^{
    // SDK å·²ç»æˆåŠŸè¿æ¥åˆ°IMæœåŠ¡å™¨
} onKickedOffline:^{
    // SDK æ­£åœ¨è¿æ¥åˆ°IMæœåŠ¡å™¨
} onUserTokenExpired:^{
    // åœ¨çº¿æ—¶ç¥¨æ®è¿‡æœŸï¼šæ­¤æ—¶æ‚¨éœ€è¦ç”Ÿæˆæ–°çš„ token å¹¶å†æ¬¡è°ƒç”¨ çš„ login() å‡½æ•°é‡æ–°ç™»å½•ã€‚
}];

```

### 4. è®¾ç½®ç›‘å¬å™¨

#### æ–¹å¼ä¸€
```swift
// ä¼šè¯ç›¸å…³ç›‘å¬
- (void)setConversationListenerWithOnSyncServerStart:(OIMVoidCallback)onSyncServerStart
                                  onSyncServerFinish:(OIMVoidCallback)onSyncServerFinish
                                  onSyncServerFailed:(OIMVoidCallback)onSyncServerFailed
                               onConversationChanged:(OIMConversationsInfoCallback)onConversationChanged
                                   onNewConversation:(OIMConversationsInfoCallback)onNewConversation
                    onTotalUnreadMessageCountChanged:(OIMNumberCallback)onTotalUnreadMessageCountChanged;

// å¥½å‹å…³ç³»é“¾ç›¸å…³ç›‘å¬
- (void)setFriendListenerWithOnBlackAdded:(OIMBlackInfoCallback)onBlackAdded
                           onBlackDeleted:(OIMBlackInfoCallback)onBlackDeleted
              onFriendApplicationAccepted:(OIMFriendApplicationCallback)onFriendApplicationAccepted
                 onFriendApplicationAdded:(OIMFriendApplicationCallback)onFriendApplicationAdded
               onFriendApplicationDeleted:(OIMFriendApplicationCallback)onFriendApplicationDeleted
              onFriendApplicationRejected:(OIMFriendApplicationCallback)onFriendApplicationRejected
                      onFriendInfoChanged:(OIMFriendInfoCallback)onFriendInfoChanged
                            onFriendAdded:(OIMFriendInfoCallback)onFriendAdded
                          onFriendDeleted:(OIMFriendInfoCallback)onFriendDeleted;

// ç¾¤ç»„ç›¸å…³ç›‘å¬
- (void)setGroupListenerWithOnGroupInfoChanged:(OIMGroupInfoCallback)onGroupInfoChanged
                            onJoinedGroupAdded:(OIMGroupInfoCallback)onJoinedGroupAdded
                          onJoinedGroupDeleted:(OIMGroupInfoCallback)onJoinedGroupDeleted
                            onGroupMemberAdded:(OIMGroupMemberInfoCallback)onGroupMemberAdded
                          onGroupMemberDeleted:(OIMGroupMemberInfoCallback)onGroupMemberDeleted
                      onGroupMemberInfoChanged:(OIMGroupMemberInfoCallback)onGroupMemberInfoChanged
                       onGroupApplicationAdded:(OIMGroupApplicationCallback)onGroupApplicationAdded
                     onGroupApplicationDeleted:(OIMGroupApplicationCallback)onGroupApplicationDeleted
                    onGroupApplicationAccepted:(OIMGroupApplicationCallback)onGroupApplicationAccepted
                    onGroupApplicationRejected:(OIMGroupApplicationCallback)onGroupApplicationRejected
                              onGroupDismissed:(nullable OIMGroupInfoCallback)onGroupDismissed;

// æ¶ˆæ¯ç›¸å…³ç›‘å¬
- (void)setAdvancedMsgListenerWithOnRecvMessageRevoked:(OIMRevokedCallback)onRecvMessageRevoked
                                  onRecvC2CReadReceipt:(OIMReceiptCallback)onRecvC2CReadReceipt
                                onRecvGroupReadReceipt:(OIMReceiptCallback)onRecvGroupReadReceipt
                                      onRecvNewMessage:(OIMMessageInfoCallback)onRecvNewMessage;

// ç™»å½•ç”¨æˆ·ç›¸å…³ç›‘å¬
- (void)setSelfUserInfoUpdateListener:(OIMUserInfoCallback)onUserInfoUpdate;

// ç”¨æˆ·çŠ¶æ€ç›¸å…³ç›‘å¬
- (void)setUserListenerWithUserInfoUpdate:(nullable OIMUserInfoCallback)onUserInfoUpdate
                      onUserStatusChanged:(nullable OIMUserStatusInfoCallback)onUserStatusChanged;

// è‡ªå®šä¹‰ä¸šåŠ¡ç›¸å…³ç›‘å¬
- (void)setRecvCustomBusinessMessageListener:(OIMObjectCallback)onRecvCustomBusinessMessage;
    
```

#### æ–¹å¼äºŒ

```swift

// ä¼šè¯ç›¸å…³ç›‘å¬
- (void)addConversationListener:(id<OIMConversationListener>)listener;
- (void)addIMSDKListener:(id<OIMSDKListener>)listener;
// å¥½å‹å…³ç³»é“¾ç›¸å…³ç›‘å¬
- (void)addFriendListener:(id<OIMFriendshipListener>)listener;
// ç¾¤ç»„ç›¸å…³ç›‘å¬
- (void)addGroupListener:(id<OIMGroupListener>)listener;
// æ¶ˆæ¯ç›¸å…³ç›‘å¬
- (void)addAdvancedMsgListener:(id<OIMAdvancedMsgListener>)listener;
// ç”¨æˆ·ç›¸å…³ç›‘å¬
- (void)addUserListener:(id<OIMUserListener>)listener;
// è‡ªå®šä¹‰ä¸šåŠ¡ç›¸å…³ç›‘å¬
- (void)addCustomBusinessListener:(id<OIMCustomBusinessListener>)listener;

```

### 5. ç™»å½•

```swift
[OIMManager.manager login:@""
                    token:@""
                    onSuccess:^(NSString * _Nullable data) {

} onFailure:^(NSInteger code, NSString * _Nullable msg) {

}];
```

### æ³¨æ„

1ã€SDK åªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ã€‚

2ã€å…¶ä»– api è°ƒç”¨å¿…é¡»ä¿è¯ç™»å½•å›è°ƒæˆåŠŸåæ“ä½œã€‚
